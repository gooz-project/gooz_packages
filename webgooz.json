{
    "name": "webgooz",
    "codes": [
        {
            "filename": "gooz_web.py",
            "code": "from dev.gooz_wlan import *\\nimport socket\\n\\n\\ndef wifi_control():\\n    if sta_if.active() == False:\\n        print(\"no active wlan...\")\\n        wifi_conn_flag = False\\n    else:\\n        if sta_if.isconnected() == False:\\n            print(\"no wifi connection...\")\\n            wifi_conn_flag = False\\n        else:\\n            print(\"wifi connected...\")\\n            wifi_conn_flag = True\\n            \\n    return wifi_conn_flag\\n            \\ns = socket.socket(socket.AF_INET,socket.SOCK_STREAM)#initin icinden buraya ald\u0131m    \\ndef init(port):#socket initializer\\n    print(\"Server initializing...\")\\n    addr = socket.getaddrinfo('0.0.0.0', int(port))[0][-1]\\n    print(\"Address has been taken\")\\n    \\n    s.bind(addr)\\n    print(\"Socket and address have been binded\")\\n    s.listen(1)\\n    \\n    \\n    \\ndef new_client():\\n    try:\\n        \\n        s.settimeout(1.0)\\n        cl, addr = s.accept()\\n        print('client connected from', addr)\\n        cl_file = cl.makefile('rwb', 0)\\n        line = str(cl_file.recv(1024*8),\"utf-8\").split(\"\\n\")\\n        request_type = line[0].split(\" \")\\n        if request_type[0] == \"GET\":\\n            if request_type[1] == \"/hello\":\\n                response = \"<h1>Hello Main Page</h1>\"\\n                cl.send('HTTP/1.0 200 OK\\r\\nContent-type: text/html\\r\\n\\r\\n')\\n                cl.send(response)\\n            elif request_type[1] == \"/host\":\\n                response = \"<h1>\"+line[1]+\"</h1>\"\\n                cl.send('HTTP/1.0 200 OK\\r\\nContent-type: text/html\\r\\n\\r\\n')\\n                cl.send(response)\\n            elif request_type[1] == \"/stop\":\\n                cl.close\\n                break_flag = True\\n            else:\\n                \"\"\"\\n                rows = ['<tr><td>%s</td><td>%d</td></tr>' % (str(p), p.value()) for p in pins]\\n                response = html % '\\n'.join(rows)\\n                \"\"\"\\n                response = \"<h1>Herhangi bir subdirectory girilmedi</h1>\"\\n                cl.send('HTTP/1.0 200 OK\\r\\nContent-type: text/html\\r\\n\\r\\n')\\n                cl.send(response)\\n        cl.close()\\n        return break_flag\\n        \\n    except:\\n        pass\\n    \\ndef run(port):\\n    if wifi_control() == False:\\n        print(\"no wifi connection...\")\\n    else:\\n        print(\"Server initializing...\")\\n        init(port)\\n        while True:\\n            new_client()\\n            if new_client() == True:\\n                break\\ndef run2():\\n    addr = socket.getaddrinfo('0.0.0.0', 8080)[0][-1]\\n    s = socket.socket()\\n    s.bind(addr)\\n    s.listen(1)\\n    #s.settimeout(1.0)\\n    \"\"\"\\n    def new_client():\\n        cl, addr = s.accept()\\n        print(\"Data al\u0131nd\u0131\")\\n        print('client connected from', addr)\\n        cl_file = cl.makefile('rwb', 0)\\n        print(\"makefile olu\u015fturuldu\")\\n        line = str(cl_file.recv(1024*8),\"utf-8\").split(\"\\n\")\\n        request_type = line[0].split(\" \")\\n        if request_type[0] == \"GET\":\\n            if request_type[1] == \"/hello\":\\n                response = \"<h1>Hello Main Page</h1>\"\\n                cl.send('HTTP/1.0 200 OK\\r\\nContent-type: text/html\\r\\n\\r\\n')\\n                cl.send(response)\\n            elif request_type[1] == \"/host\":\\n                response = \"<h1>\"+line[1]+\"</h1>\"\\n                cl.send('HTTP/1.0 200 OK\\r\\nContent-type: text/html\\r\\n\\r\\n')\\n                cl.send(response)\\n            else:\\n                rows = ['<tr><td>%s</td><td>%d</td></tr>' % (str(p), p.value()) for p in pins]\\n                response = html % '\\n'.join(rows)\\n                cl.send('HTTP/1.0 200 OK\\r\\nContent-type: text/html\\r\\n\\r\\n')\\n                cl.send(response)\\n        cl.close()\\n    \"\"\"\\n\\n\\n    while True:\\n        cl, addr = s.accept()\\n        print(\"Data al\u0131nd\u0131\")\\n        print('client connected from', addr)\\n        cl_file = cl.makefile('rwb', 0)\\n        print(\"makefile olu\u015fturuldu\")\\n        line = str(cl_file.recv(1024*8),\"utf-8\").split(\"\\n\")\\n        request_type = line[0].split(\" \")\\n        if request_type[0] == \"GET\":\\n            if request_type[1] == \"/hello\":\\n                response = \"<h1>Hello Main Page</h1>\"\\n                cl.send('HTTP/1.0 200 OK\\r\\nContent-type: text/html\\r\\n\\r\\n')\\n                cl.send(response)\\n            elif request_type[1] == \"/host\":\\n                response = \"<h1>\"+line[1]+\"</h1>\"\\n                cl.send('HTTP/1.0 200 OK\\r\\nContent-type: text/html\\r\\n\\r\\n')\\n                cl.send(response)\\n            else:\\n                \"\"\"\\n                rows = ['<tr><td>%s</td><td>%d</td></tr>' % (str(p), p.value()) for p in pins]\\n                response = html % '\\n'.join(rows)\\n                \"\"\"\\n                response = \"(: <h1>Welcome to the open source gooz project server :)</h1>\"\\n                cl.send('HTTP/1.0 200 OK\\r\\nContent-type: text/html\\r\\n\\r\\n')\\n                cl.send(response)\\n        cl.close()\\n\\n\\n\\n\\n\\n    \\n\\n\\n"
        }
    ],
    "managersnip": "\\n    elif cmd_arr[0] == \"webgooz\":\\n        try:\\n            import app.webgooz.gooz_web    \\n            if cmd_arr[1] == \"run\":\\n                app.webgooz.gooz_web.run(cmd_arr[2])\\n            elif cmd_arr[1] == \"control\":\\n                app.webgooz.gooz_web.wifi_control()\\n        except:\\n            print('This app is deleted')\\n"
}